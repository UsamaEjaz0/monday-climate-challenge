{"ast":null,"code":"var _jsxFileName = \"/Users/usamaejaz/Desktop/Nustac/quickstart-react/src/Table.js\";\nimport React from \"react\";\nimport \"./App.css\";\nimport mondaySdk from \"monday-sdk-js\";\nimport { List, ListItem } from \"monday-ui-react-core\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst monday = mondaySdk();\n\nclass AppSolution extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.getSettings = res => {\n      this.setState({\n        settings: res.data\n      });\n    };\n\n    this.getContext = res => {\n      this.setState({\n        context: res.data\n      }, this.fetchBoards);\n    };\n\n    this.fetchBoards = () => {\n      const {\n        context\n      } = this.state;\n      monday.api(`\n    query {\n      me {\n        name\n      }\n      \n      boards(ids:[${context.boardIds}]) {\n        name\n        \n        columns {\n          title\n          id\n          type\n        }\n        \n        groups {\n          title\n          id\n        }\n        \n        items {\n          name\n          group {\n            id\n          }\n          \n          column_values {\n            id\n            value\n            text\n          }\n        }\n      }\n    } \n    `).then(res => this.setState({\n        me: res.data.me,\n        boards: res.data.boards\n      }));\n    };\n\n    this.renderCell = (board, column, item) => {\n      const columnValue = item.column_values.find(columnValue => columnValue.id == column.id);\n      const text = column.type == \"name\" ? item.name : columnValue && columnValue.text;\n      return text;\n    };\n\n    this.renderItem = (board, item) => {\n      const {\n        columns\n      } = board;\n      console.log(columns);\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"item\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"cell\",\n          children: this.renderCell(board, columns[0], item)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"cell\",\n          children: [\"Neutral for \", item.column_values.find(columnValue => columnValue.id == columns[0].id).text]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 13\n      }, this);\n    };\n\n    this.renderGroup = (board, group) => {\n      const {\n        columns\n      } = board;\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"group\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"group-title\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"cell\",\n            children: columns[0].type === \"name\" ? group.title : columns[0].title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"cell\",\n            children: \"Sentiment\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 22\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"group-items\",\n          children: group.items.map(item => this.renderItem(board, item))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 13\n      }, this);\n    };\n\n    this.getGroups = board => {\n      const {\n        settings\n      } = this.state;\n      const {\n        groupByColumn\n      } = settings;\n      const groupByColumnId = groupByColumn ? Object.keys(groupByColumn)[0] : null;\n      const groups = {};\n\n      for (const item of board.items) {\n        const groupId = groupByColumnId ? this.getColumnValue(item, groupByColumnId).text : item.group.id;\n\n        if (!groups[groupId]) {\n          const groupTitle = groupByColumnId ? groupId : board.groups.find(group => group.id == groupId).title;\n          groups[groupId] = {\n            items: [],\n            id: groupId,\n            title: groupTitle\n          };\n        }\n\n        groups[groupId].items.push(item);\n      }\n\n      return Object.values(groups);\n    };\n\n    this.renderBoard = board => {\n      const {\n        settings\n      } = this.state;\n      const groups = this.getGroups(board);\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"board\",\n        style: {\n          background: settings.color\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"board-name\",\n          children: board.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"board-groups\",\n          children: groups.map(group => this.renderGroup(board, group))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 13\n      }, this);\n    };\n\n    this.state = {\n      settings: {},\n      context: {},\n      me: {},\n      boards: []\n    };\n  }\n\n  componentDidMount() {\n    monday.setToken('eyJhbGciOiJIUzI1NiJ9.eyJ0aWQiOjE3NjMzMzUyMiwidWlkIjozMzM4NjAzOCwiaWFkIjoiMjAyMi0wOC0xOFQyMjozMzowOS4wMDBaIiwicGVyIjoibWU6d3JpdGUiLCJhY3RpZCI6MTMxNDQ3NTYsInJnbiI6InVzZTEifQ.gai4a2YB1yJhoqJ-mGIX2pBNF91iArRerKqbB6n3u0s');\n    monday.listen(\"settings\", this.getSettings);\n    monday.listen(\"context\", this.getContext);\n  }\n\n  getColumnValue(item, columnId) {\n    return item.column_values.find(columnValue => columnValue.id == columnId) || {};\n  }\n\n  render() {\n    const {\n      me,\n      boards\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"monday-app\",\n      children: this.state.boards.map(board => this.renderBoard(board))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default AppSolution;","map":{"version":3,"names":["React","mondaySdk","List","ListItem","monday","AppSolution","Component","constructor","props","getSettings","res","setState","settings","data","getContext","context","fetchBoards","state","api","boardIds","then","me","boards","renderCell","board","column","item","columnValue","column_values","find","id","text","type","name","renderItem","columns","console","log","renderGroup","group","title","items","map","getGroups","groupByColumn","groupByColumnId","Object","keys","groups","groupId","getColumnValue","groupTitle","push","values","renderBoard","background","color","componentDidMount","setToken","listen","columnId","render"],"sources":["/Users/usamaejaz/Desktop/Nustac/quickstart-react/src/Table.js"],"sourcesContent":["import React from \"react\";\nimport \"./App.css\";\nimport mondaySdk from \"monday-sdk-js\";\nimport {List, ListItem} from \"monday-ui-react-core\";\nconst monday = mondaySdk();\n\nclass AppSolution extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = { settings: {}, context: {}, me: {}, boards: [] };\n    }\n\n    componentDidMount() {\n        monday.setToken('eyJhbGciOiJIUzI1NiJ9.eyJ0aWQiOjE3NjMzMzUyMiwidWlkIjozMzM4NjAzOCwiaWFkIjoiMjAyMi0wOC0xOFQyMjozMzowOS4wMDBaIiwicGVyIjoibWU6d3JpdGUiLCJhY3RpZCI6MTMxNDQ3NTYsInJnbiI6InVzZTEifQ.gai4a2YB1yJhoqJ-mGIX2pBNF91iArRerKqbB6n3u0s');\n        monday.listen(\"settings\", this.getSettings);\n        monday.listen(\"context\", this.getContext);\n    }\n\n    getSettings = (res) => {\n        this.setState({ settings: res.data });\n    };\n\n    getContext = (res) => {\n        this.setState({ context: res.data }, this.fetchBoards);\n    };\n\n    fetchBoards = () => {\n        const { context } = this.state;\n        monday.api(\n                `\n    query {\n      me {\n        name\n      }\n      \n      boards(ids:[${context.boardIds}]) {\n        name\n        \n        columns {\n          title\n          id\n          type\n        }\n        \n        groups {\n          title\n          id\n        }\n        \n        items {\n          name\n          group {\n            id\n          }\n          \n          column_values {\n            id\n            value\n            text\n          }\n        }\n      }\n    } \n    `\n            )\n            .then((res) => this.setState({ me: res.data.me, boards: res.data.boards }));\n    };\n\n    renderCell = (board, column, item) => {\n        const columnValue = item.column_values.find((columnValue) => columnValue.id == column.id);\n        const text = column.type == \"name\" ? item.name : columnValue && columnValue.text;\n        return text;\n    };\n\n    renderItem = (board, item) => {\n        const { columns } = board;\n        console.log(columns);\n        return (\n            <div className=\"item\">\n                {/*{columns.map((column) => (*/}\n\n                {/*    <div className=\"cell\">{this.renderCell(board, column, item)}</div>*/}\n                {/*))}*/}\n                {\n\n                    <div className=\"cell\">{this.renderCell(board, columns[0], item)}</div>\n                }\n                {\n\n                    <div className=\"cell\">Neutral for {item.column_values.find((columnValue) => columnValue.id == columns[0].id).text}</div>\n                }\n            </div>\n        );\n    };\n\n    renderGroup = (board, group) => {\n        const { columns } = board;\n        return (\n            <div className=\"group\">\n                <div className=\"group-title\">\n                    {/*{columns.map((column) => (*/}\n                    {/*    <div className=\"cell\">{column.type == \"name\" ? group.title : column.title}</div>*/}\n                    {/*))}*/}\n                    {\n                        <div className=\"cell\">{columns[0].type === \"name\" ? group.title : columns[0].title}</div>\n\n                    }\n                    {<div className=\"cell\">Sentiment</div>}\n                </div>\n                <div className=\"group-items\">{group.items.map((item) => this.renderItem(board, item))}</div>\n            </div>\n        );\n    };\n\n    getColumnValue(item, columnId) {\n        return item.column_values.find((columnValue) => columnValue.id == columnId) || {};\n    }\n\n    getGroups = (board) => {\n        const { settings } = this.state;\n        const { groupByColumn } = settings;\n        const groupByColumnId = groupByColumn ? Object.keys(groupByColumn)[0] : null;\n\n        const groups = {};\n        for (const item of board.items) {\n            const groupId = groupByColumnId ? this.getColumnValue(item, groupByColumnId).text : item.group.id;\n            if (!groups[groupId]) {\n                const groupTitle = groupByColumnId ? groupId : board.groups.find((group) => group.id == groupId).title;\n                groups[groupId] = { items: [], id: groupId, title: groupTitle };\n            }\n            groups[groupId].items.push(item);\n        }\n\n        return Object.values(groups);\n    };\n\n    renderBoard = (board) => {\n        const { settings } = this.state;\n        const groups = this.getGroups(board);\n\n        return (\n            <div className=\"board\" style={{ background: settings.color }}>\n                <div className=\"board-name\">{board.name}</div>\n                <div className=\"board-groups\">{groups.map((group) => this.renderGroup(board, group))}</div>\n            </div>\n        );\n    };\n\n    render() {\n        const { me, boards } = this.state;\n        return (\n            <div className=\"monday-app\">\n                {this.state.boards.map((board) => this.renderBoard(board))}\n            </div>\n        );\n    }\n}\n\nexport default AppSolution;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}