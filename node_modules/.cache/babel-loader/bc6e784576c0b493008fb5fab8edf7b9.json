{"ast":null,"code":"import _createForOfIteratorHelper from\"/Users/usamaejaz/Desktop/Nustac/quickstart-react/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";import _classCallCheck from\"/Users/usamaejaz/Desktop/Nustac/quickstart-react/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/usamaejaz/Desktop/Nustac/quickstart-react/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/usamaejaz/Desktop/Nustac/quickstart-react/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/usamaejaz/Desktop/Nustac/quickstart-react/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from\"react\";import\"./App.css\";import mondaySdk from\"monday-sdk-js\";import{Clickable,Heading,Label,List,ListItem}from\"monday-ui-react-core\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var monday=mondaySdk();var AppSolution=/*#__PURE__*/function(_React$Component){_inherits(AppSolution,_React$Component);var _super=_createSuper(AppSolution);function AppSolution(props){var _this;_classCallCheck(this,AppSolution);_this=_super.call(this,props);_this.getSettings=function(res){_this.setState({settings:res.data});};_this.getContext=function(res){_this.setState({context:res.data},_this.fetchBoards);};_this.fetchBoards=function(){var context=_this.state.context;monday.api(\"\\n    query {\\n      me {\\n        name\\n      }\\n      \\n      boards(ids:[\".concat(context.boardIds,\"]) {\\n        name\\n        \\n        columns {\\n          title\\n          id\\n          type\\n        }\\n        \\n        groups {\\n          title\\n          color\\n          id\\n        }\\n        \\n        items {\\n          name\\n          group {\\n            id\\n          }\\n         \\n        }\\n      }\\n    } \\n    \")).then(function(res){return _this.setState({me:res.data.me,boards:res.data.boards});});};_this.renderItem=function(color,board,item){return/*#__PURE__*/_jsxs(Clickable,{className:\"item\",children:[/*#__PURE__*/_jsx(\"div\",{style:{borderLeft:\"thick solid \".concat(color)},className:\"task\",children:item.name}),/*#__PURE__*/_jsx(Label,{className:\"sentiment\",text:\"Neutral\",color:Label.colors.POSITIVE})]});};_this.renderGroup=function(board,group){return/*#__PURE__*/_jsxs(\"div\",{className:\"group\",children:[/*#__PURE__*/_jsx(Heading,{style:{color:group.color},type:Heading.types.h4,value:group.title}),/*#__PURE__*/_jsxs(\"div\",{className:\"group-title\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"task\",children:\"Task\"}),/*#__PURE__*/_jsx(\"div\",{className:\"sentiment\",children:\"Sentiment\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"group-items\",children:group.items.map(function(item){return _this.renderItem(group.color,board,item);})})]});};_this.getGroups=function(board){var settings=_this.state.settings;var groupByColumn=settings.groupByColumn;var groupByColumnId=groupByColumn?Object.keys(groupByColumn)[0]:null;var groups={};var _iterator=_createForOfIteratorHelper(board.items),_step;try{var _loop=function _loop(){var item=_step.value;var groupId=groupByColumnId?_this.getColumnValue(item,groupByColumnId).text:item.group.id;if(!groups[groupId]){var groupTitle=groupByColumnId?groupId:board.groups.find(function(group){return group.id==groupId;}).title;var groupColor=groupByColumnId?groupId:board.groups.find(function(group){return group.id==groupId;}).color;groups[groupId]={items:[],id:groupId,title:groupTitle,color:groupColor};}groups[groupId].items.push(item);};for(_iterator.s();!(_step=_iterator.n()).done;){_loop();}}catch(err){_iterator.e(err);}finally{_iterator.f();}return Object.values(groups);};_this.renderBoard=function(board){var settings=_this.state.settings;var groups=_this.getGroups(board);return/*#__PURE__*/_jsxs(\"div\",{className:\"board\",style:{background:settings.color},children:[/*#__PURE__*/_jsx(Heading,{type:Heading.types.h1,value:board.name}),/*#__PURE__*/_jsx(\"div\",{className:\"board-groups\",children:groups.map(function(group){return _this.renderGroup(board,group);})})]});};_this.state={settings:{},context:{},me:{},boards:[]};return _this;}_createClass(AppSolution,[{key:\"componentDidMount\",value:function componentDidMount(){monday.setToken('eyJhbGciOiJIUzI1NiJ9.eyJ0aWQiOjE3NjMzMzUyMiwidWlkIjozMzM4NjAzOCwiaWFkIjoiMjAyMi0wOC0xOFQyMjozMzowOS4wMDBaIiwicGVyIjoibWU6d3JpdGUiLCJhY3RpZCI6MTMxNDQ3NTYsInJnbiI6InVzZTEifQ.gai4a2YB1yJhoqJ-mGIX2pBNF91iArRerKqbB6n3u0s');monday.listen(\"settings\",this.getSettings);monday.listen(\"context\",this.getContext);}},{key:\"getColumnValue\",value:function getColumnValue(item,columnId){return item.column_values.find(function(columnValue){return columnValue.id==columnId;})||{};}},{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/_jsx(\"div\",{className:\"monday-app\",children:this.state.boards.map(function(board){return _this2.renderBoard(board);})});}}]);return AppSolution;}(React.Component);export default AppSolution;","map":{"version":3,"names":["React","mondaySdk","Clickable","Heading","Label","List","ListItem","monday","AppSolution","props","getSettings","res","setState","settings","data","getContext","context","fetchBoards","state","api","boardIds","then","me","boards","renderItem","color","board","item","borderLeft","name","colors","POSITIVE","renderGroup","group","types","h4","title","items","map","getGroups","groupByColumn","groupByColumnId","Object","keys","groups","groupId","getColumnValue","text","id","groupTitle","find","groupColor","push","values","renderBoard","background","h1","setToken","listen","columnId","column_values","columnValue","Component"],"sources":["/Users/usamaejaz/Desktop/Nustac/quickstart-react/src/Table.js"],"sourcesContent":["import React from \"react\";\nimport \"./App.css\";\nimport mondaySdk from \"monday-sdk-js\";\nimport {Clickable, Heading, Label, List, ListItem} from \"monday-ui-react-core\";\nconst monday = mondaySdk();\n\nclass AppSolution extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = { settings: {}, context: {}, me: {}, boards: [] };\n    }\n\n    componentDidMount() {\n        monday.setToken('eyJhbGciOiJIUzI1NiJ9.eyJ0aWQiOjE3NjMzMzUyMiwidWlkIjozMzM4NjAzOCwiaWFkIjoiMjAyMi0wOC0xOFQyMjozMzowOS4wMDBaIiwicGVyIjoibWU6d3JpdGUiLCJhY3RpZCI6MTMxNDQ3NTYsInJnbiI6InVzZTEifQ.gai4a2YB1yJhoqJ-mGIX2pBNF91iArRerKqbB6n3u0s');\n        monday.listen(\"settings\", this.getSettings);\n        monday.listen(\"context\", this.getContext);\n    }\n\n    getSettings = (res) => {\n        this.setState({ settings: res.data });\n    };\n\n    getContext = (res) => {\n        this.setState({ context: res.data }, this.fetchBoards);\n    };\n\n    fetchBoards = () => {\n        const { context } = this.state;\n        monday.api(\n                `\n    query {\n      me {\n        name\n      }\n      \n      boards(ids:[${context.boardIds}]) {\n        name\n        \n        columns {\n          title\n          id\n          type\n        }\n        \n        groups {\n          title\n          color\n          id\n        }\n        \n        items {\n          name\n          group {\n            id\n          }\n         \n        }\n      }\n    } \n    `\n            )\n            .then((res) => this.setState({ me: res.data.me, boards: res.data.boards }));\n    };\n\n\n\n    renderItem = (color, board, item) => {\n\n        return (\n            <Clickable className=\"item\">\n                {<div style={{borderLeft:  `thick solid ${color}`}} className=\"task\">{item.name}</div>}\n                {<Label className=\"sentiment\" text=\"Neutral\" color={Label.colors.POSITIVE}  />}\n                {/*{<div className=\"sentiment\">Neutral</div>}*/}\n            </Clickable>\n        );\n    };\n\n    renderGroup = (board, group) => {\n        return (\n            <div className=\"group\">\n                <Heading style={{color:group.color}} type={Heading.types.h4} value={group.title }  />\n                <div className=\"group-title\">\n                    {<div className=\"task\">Task</div>}\n                    {<div className=\"sentiment\">Sentiment</div>}\n                </div>\n                <div className=\"group-items\">{group.items.map((item) => this.renderItem(group.color, board, item))}</div>\n            </div>\n        );\n    };\n\n    getColumnValue(item, columnId) {\n        return item.column_values.find((columnValue) => columnValue.id == columnId) || {};\n    }\n\n    getGroups = (board) => {\n        const { settings } = this.state;\n        const { groupByColumn } = settings;\n        const groupByColumnId = groupByColumn ? Object.keys(groupByColumn)[0] : null;\n\n        const groups = {};\n        for (const item of board.items) {\n            const groupId = groupByColumnId ? this.getColumnValue(item, groupByColumnId).text : item.group.id;\n            if (!groups[groupId]) {\n                const groupTitle = groupByColumnId ? groupId : board.groups.find((group) => group.id == groupId).title;\n                const groupColor = groupByColumnId ? groupId : board.groups.find((group) => group.id == groupId).color;\n                groups[groupId] = { items: [], id: groupId, title: groupTitle, color: groupColor };\n            }\n            groups[groupId].items.push(item);\n        }\n\n        return Object.values(groups);\n    };\n\n    renderBoard = (board) => {\n        const { settings } = this.state;\n        const groups = this.getGroups(board);\n        return (\n            <div className=\"board\" style={{ background: settings.color }}>\n                <Heading type={Heading.types.h1} value={board.name}  />\n                <div className=\"board-groups\">{groups.map((group) => this.renderGroup(board, group))}</div>\n            </div>\n        );\n    };\n\n    render() {\n\n        return (\n            <div className=\"monday-app\">\n                {this.state.boards.map((board) => this.renderBoard(board))}\n            </div>\n        );\n    }\n}\n\nexport default AppSolution;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}