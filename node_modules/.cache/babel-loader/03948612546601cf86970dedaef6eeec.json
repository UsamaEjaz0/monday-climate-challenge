{"ast":null,"code":"var _jsxFileName = \"/Users/usamaejaz/Desktop/Nustac/quickstart-react/src/App.js\",\n    _s = $RefreshSig$();\n\nimport axios from 'axios';\nimport { Input, Table, Tag } from 'antd';\nimport moment from 'moment';\nimport { useEffect, useState } from 'react';\nimport './App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst columns = [{\n  title: 'Atividade',\n  dataIndex: 'atividade',\n  key: 'atividade'\n}, {\n  title: 'Finalidade',\n  dataIndex: 'finalidade',\n  key: 'finalidade'\n}, {\n  title: 'Pessoa',\n  dataIndex: 'pessoa',\n  key: 'pessoa'\n}, {\n  title: 'Status',\n  dataIndex: 'status',\n  key: 'status',\n  render: status => {\n    const color = status === 'Stuck' ? 'volcano' : status === 'Done' ? 'green' : status === 'Working on it' ? 'yellow' : 'grey';\n    return /*#__PURE__*/_jsxDEV(Tag, {\n      color: color,\n      children: status.toUpperCase()\n    }, status, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 11\n    }, this);\n  }\n}, {\n  title: 'Data Adicionada',\n  dataIndex: 'date',\n  key: 'date',\n  render: date => /*#__PURE__*/_jsxDEV(Tag, {\n    color: \"geekblue\",\n    children: date\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 23\n  }, this)\n}];\n\nfunction App() {\n  _s();\n\n  const [data, setData] = useState();\n  const [loading, setLoading] = useState(false);\n  const [tableData, setTableData] = useState([]);\n  const [originalTableData, setOriginalTableData] = useState([]);\n\n  const getData = () => {\n    setLoading(true);\n    axios({\n      url: 'https://api.monday.com/v2',\n      method: 'post',\n      headers: {\n        Authorization: process.env.REACT_APP_TOKEN\n      },\n      data: {\n        query: `\n          query {\n            me {\n              name\n            }\n            \n            boards(ids: [1044775245]) {\n              name\n              \n              columns {\n                title\n                id\n                type\n              }\n              \n              groups {\n                title\n                id\n              }\n              \n              items {\n                name\n                state\n                group {\n                  id\n                }\n                \n                column_values {\n                  id\n                  value\n                  text\n                }\n              }\n            }\n          }\n        `\n      }\n    }).then(response => {\n      setLoading(false);\n      setData(response.data);\n    }).catch(error => {\n      console.log({\n        error\n      });\n      setLoading(false);\n    });\n  };\n\n  const onChange = e => {\n    const value = e.target.value;\n    const initialData = originalTableData;\n    const newData = initialData.filter(x => {\n      if (x.finalidade.includes(value) || x.atividade.includes(value) || x.pessoa.includes(value)) {\n        return true;\n      }\n\n      return false;\n    });\n    setTableData(newData);\n  };\n\n  const composeTableData = data => {\n    return data.map((x, index) => {\n      var _x$column_values$find, _x$column_values$find2, _x$column_values$find3, _moment$calendar, _x$column_values$find4;\n\n      return {\n        key: index,\n        atividade: x.name,\n        finalidade: (_x$column_values$find = x.column_values.find(y => y.id === 'text')) === null || _x$column_values$find === void 0 ? void 0 : _x$column_values$find.text,\n        status: ((_x$column_values$find2 = x.column_values.find(y => y.id === 'status')) === null || _x$column_values$find2 === void 0 ? void 0 : _x$column_values$find2.text) || 'To do',\n        pessoa: (_x$column_values$find3 = x.column_values.find(y => y.id === 'person')) === null || _x$column_values$find3 === void 0 ? void 0 : _x$column_values$find3.text,\n        date: (_moment$calendar = moment((_x$column_values$find4 = x.column_values.find(y => y.id === 'date4')) === null || _x$column_values$find4 === void 0 ? void 0 : _x$column_values$find4.text).calendar()) === null || _moment$calendar === void 0 ? void 0 : _moment$calendar.toString()\n      };\n    });\n  };\n\n  useEffect(() => {\n    if (data) {\n      var _data$data, _data$data$boards$;\n\n      const tableInfo = composeTableData(data === null || data === void 0 ? void 0 : (_data$data = data.data) === null || _data$data === void 0 ? void 0 : (_data$data$boards$ = _data$data.boards[0]) === null || _data$data$boards$ === void 0 ? void 0 : _data$data$boards$.items);\n      setTableData(tableInfo);\n      setOriginalTableData(tableInfo);\n    }\n  }, [data]);\n  useEffect(() => {\n    getData();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"content\",\n      children: /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          style: {\n            textDecoration: 'underline'\n          },\n          children: \"List of Atividades\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Input, {\n          onChange: onChange,\n          placeholder: \"Search...\",\n          style: {\n            width: 200\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Table, {\n          columns: columns,\n          dataSource: tableData,\n          pagination: false,\n          scroll: {\n            x: 400\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 143,\n    columnNumber: 7\n  }, this);\n}\n\n_s(App, \"FzxGo7tYxc41W1cXR/4XFOPK+80=\");\n\n_c = App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["axios","Input","Table","Tag","moment","useEffect","useState","columns","title","dataIndex","key","render","status","color","toUpperCase","date","App","data","setData","loading","setLoading","tableData","setTableData","originalTableData","setOriginalTableData","getData","url","method","headers","Authorization","process","env","REACT_APP_TOKEN","query","then","response","catch","error","console","log","onChange","e","value","target","initialData","newData","filter","x","finalidade","includes","atividade","pessoa","composeTableData","map","index","name","column_values","find","y","id","text","calendar","toString","tableInfo","boards","items","textDecoration","width"],"sources":["/Users/usamaejaz/Desktop/Nustac/quickstart-react/src/App.js"],"sourcesContent":["import axios from 'axios';\nimport { Input, Table, Tag } from 'antd';\nimport moment from 'moment';\nimport { useEffect, useState } from 'react';\nimport './App.css';\n\n\nconst columns = [\n  {\n    title: 'Atividade',\n    dataIndex: 'atividade',\n    key: 'atividade',\n  },\n  {\n    title: 'Finalidade',\n    dataIndex: 'finalidade',\n    key: 'finalidade',\n  },\n  {\n    title: 'Pessoa',\n    dataIndex: 'pessoa',\n    key: 'pessoa',\n  },\n  {\n    title: 'Status',\n    dataIndex: 'status',\n    key: 'status',\n    render: (status) => {\n      const color = status === 'Stuck' ? 'volcano' : status === 'Done' ? 'green' : status === 'Working on it' ? 'yellow' : 'grey';\n      return (\n          <Tag color={color} key={status}>\n            {status.toUpperCase()}\n          </Tag>\n      );\n    },\n  },\n  {\n    title: 'Data Adicionada',\n    dataIndex: 'date',\n    key: 'date',\n    render: (date) => <Tag color=\"geekblue\">{date}</Tag>,\n  },\n];\n\nfunction App() {\n  const [data, setData] = useState();\n  const [loading, setLoading] = useState(false);\n  const [tableData, setTableData] = useState([]);\n  const [originalTableData, setOriginalTableData] = useState([]);\n\n  const getData = () => {\n    setLoading(true);\n    axios({\n      url: 'https://api.monday.com/v2',\n      method: 'post',\n      headers: {\n        Authorization: process.env.REACT_APP_TOKEN\n      },\n      data: {\n        query: `\n          query {\n            me {\n              name\n            }\n            \n            boards(ids: [1044775245]) {\n              name\n              \n              columns {\n                title\n                id\n                type\n              }\n              \n              groups {\n                title\n                id\n              }\n              \n              items {\n                name\n                state\n                group {\n                  id\n                }\n                \n                column_values {\n                  id\n                  value\n                  text\n                }\n              }\n            }\n          }\n        `\n      }\n    }).then((response) => {\n      setLoading(false);\n      setData(response.data)\n    }).catch(error => {\n      console.log({error})\n      setLoading(false);\n    });\n  }\n\n  const onChange = (e) => {\n    const value = e.target.value;\n    const initialData = originalTableData;\n    const newData = initialData.filter(x => {\n      if (x.finalidade.includes(value) || x.atividade.includes(value) || x.pessoa.includes(value)) {\n        return true;\n      }\n      return false;\n    })\n    setTableData(newData);\n  }\n\n  const composeTableData = (data) => {\n    return data.map((x, index) => {\n      return {\n        key: index,\n        atividade: x.name,\n        finalidade: x.column_values.find(y => y.id === 'text')?.text,\n        status: x.column_values.find(y => y.id === 'status')?.text || 'To do',\n        pessoa: x.column_values.find(y => y.id === 'person')?.text,\n        date: moment(x.column_values.find(y => y.id === 'date4')?.text).calendar()?.toString(),\n      };\n    });\n  };\n\n  useEffect(() => {\n    if (data) {\n      const tableInfo = composeTableData(data?.data?.boards[0]?.items);\n      setTableData(tableInfo);\n      setOriginalTableData(tableInfo);\n    }\n  }, [data]);\n\n  useEffect(() => {\n    getData();\n  }, []);\n  return (\n      <div className=\"App\">\n        <div className=\"content\">\n          { (\n              <>\n                <h3 style={{textDecoration: 'underline'}}>List of Atividades</h3>\n                <Input onChange={onChange} placeholder=\"Search...\" style={{width: 200}} />\n                <Table\n                    columns={columns}\n                    dataSource={tableData}\n                    pagination={false}\n                    scroll={{ x: 400 }}\n                />\n              </>\n          )}\n        </div>\n      </div>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}